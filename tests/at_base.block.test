<?php

class At_Block_TestCase extends DrupalWebTestCase {
  public function getInfo() {
    return array(
      'name' => 'AT Base: Block',
      'description' => 'Make sure the easy block feature is working correctly.',
      'group' => 'AT Base',
    );
  }

  public function setUp() {
    parent::setUp('atest_route');
  }

  public function testRoutes() {
    $twig = at_container('twig_string');

    $block_1 = $twig->render("{{ 'at_base:atest_block__hi_s' | drupalBlock }}");
    $block_2 = $twig->render("{{ 'at_base:atest_block__hi_t' | drupalBlock }}");
    $block_3 = $twig->render("{{ 'at_base:atest_block__hi_ts' | drupalBlock }}");

    $expected = 'Hello Andy Truong';
    $this->assertEquals($expected, trim($block_1));
    $this->assertEquals($expected, trim($block_2));
    $this->assertEquals($expected, trim($block_3));
  }
}
