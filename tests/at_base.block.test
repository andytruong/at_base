<?php

class At_Block_TestCase extends DrupalWebTestCase {
  public function getInfo() {
    return array(
      'name' => 'AT Base: Block',
      'description' => 'Make sure the easy block feature is working correctly.',
      'group' => 'AT Base',
    );
  }

  public function setUp() {
    parent::setUp('atest_block');
  }

  public function testRoutes() {
    $block_1 = at_container('twig_string')->render("{{ 'at_base:atest_block|hi_s'  | drupalBlock(TRUE) }}");
    $block_2 = at_container('twig_string')->render("{{ 'at_base:atest_block|hi_t'  | drupalBlock(TRUE) }}");
    $block_3 = at_container('twig_string')->render("{{ 'at_base:atest_block|hi_ts' | drupalBlock(TRUE) }}");

    $expected = 'Hello Andy Truong';
    $this->assertEqual($expected, trim($block_1));
    $this->assertEqual($expected, trim($block_2));
    $this->assertEqual($expected, trim($block_3));
  }
}
